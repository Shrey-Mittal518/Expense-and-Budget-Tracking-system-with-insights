{% extends "base.html" %}

{% block title %}Settings{% endblock %}

{% block content %}
<div class="card">
    <h2>Settings</h2>

    <form method="POST" action="{{ url_for('update_settings') }}">
        <div class="form-group">
            <label>Username</label>
            <input type="text" name="username" value="{{ user.username }}" required>
        </div>

        <div class="form-group">
            <label>Email</label>
            <input type="email" value="{{ user.email }}" disabled style="background-color: #f5f5f5;">
            <small style="color: #666;">Email cannot be changed</small>
        </div>

        <div class="form-group">
            <label>
                <input type="checkbox" name="auto_detect" {% if user.auto_detect_enabled %}checked{% endif %}>
                Enable auto-detect transactions
            </label>
        </div>

        <button type="submit">Save Changes</button>
    </form>

    <div style="margin-top: 30px; padding-top: 20px; border-top: 1px solid #ddd;">
        <h3 style="margin-bottom: 15px;">Data Export</h3>
        <div style="margin-bottom: 15px;">
            <a href="{{ url_for('export_csv') }}" class="btn">Export to CSV</a>
            <p style="font-size: 12px; color: #666; margin-top: 5px;">Download all your transactions as CSV</p>
        </div>
    </div>
</div>
{% endblock %}
